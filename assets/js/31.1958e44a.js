(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{526:function(s,a,t){"use strict";t.r(a);var e=t(6),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"nuxt-js是什么"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nuxt-js是什么"}},[s._v("#")]),s._v(" Nuxt.js是什么")]),s._v(" "),t("p",[s._v("Nuxt.js 是一个基于 Vue.js 的通用应用框架。")]),s._v(" "),t("p",[s._v("通过对客户端/服务端基础架构的抽象组织，Nuxt.js 主要关注的是应用的 "),t("strong",[s._v("UI渲染")]),s._v("。")]),s._v(" "),t("p",[s._v("你可以基于它初始化新项目的基础结构代码，或者在已有 Node.js 项目中使用 Nuxt.js。")]),s._v(" "),t("p",[s._v("Nuxt.js 预设了利用 Vue.js 开发"),t("strong",[s._v("服务端渲染")]),s._v("的应用所需要的各种配置。")]),s._v(" "),t("h2",{attrs:{id:"特性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#特性"}},[s._v("#")]),s._v(" 特性")]),s._v(" "),t("ul",[t("li",[s._v("基于 Vue.js")]),s._v(" "),t("li",[s._v("自动代码分层")]),s._v(" "),t("li",[s._v("服务端渲染")]),s._v(" "),t("li",[s._v("强大的路由功能，支持异步数据")]),s._v(" "),t("li",[s._v("静态文件服务")]),s._v(" "),t("li",[s._v("ES2015+ 语法支持")]),s._v(" "),t("li",[s._v("打包和压缩 JS 和 CSS")]),s._v(" "),t("li",[s._v("HTML 头部标签管理")]),s._v(" "),t("li",[s._v("本地开发支持热加载")]),s._v(" "),t("li",[s._v("集成 ESLint")]),s._v(" "),t("li",[s._v("支持各种样式预处理器： SASS、LESS、 Stylus 等等")]),s._v(" "),t("li",[s._v("支持 HTTP/2 推送")])]),s._v(" "),t("h2",{attrs:{id:"流程图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#流程图"}},[s._v("#")]),s._v(" 流程图")]),s._v(" "),t("p",[s._v("下图阐述了 Nuxt.js 应用一个完整的服务器请求到渲染（或用户通过 "),t("code",[s._v("<nuxt-link>")]),s._v(" 切换路由渲染页面）的流程：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zh.nuxtjs.org/nuxt-schema.svg",alt:"流程"}})]),s._v(" "),t("h2",{attrs:{id:"路由"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#路由"}},[s._v("#")]),s._v(" 路由")]),s._v(" "),t("p",[s._v("基础路由")]),s._v(" "),t("p",[s._v("动态路由")]),s._v(" "),t("p",[s._v("路由参数校验")]),s._v(" "),t("p",[s._v("举个例子： "),t("code",[s._v("pages/users/_id.vue")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("export default {\n\tvalidate ({ params }) {\n\t\treturn /^\\d+$/.test(params.id)\n\t}\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("如果校验方法返回的值不为 "),t("code",[s._v("true")]),s._v("或"),t("code",[s._v("Promise")]),s._v("中resolve 解析为"),t("code",[s._v("false")]),s._v("或抛出Error ， Nuxt.js 将自动加载显示 404 错误页面或 500 错误页面。")]),s._v(" "),t("p",[s._v("中间件")]),s._v(" "),t("blockquote",[t("p",[s._v("中间件允许您定义一个自定义函数运行在一个页面或一组页面渲染之前。")])]),s._v(" "),t("p",[s._v("每一个中间件应放置在 "),t("code",[s._v("middleware/")]),s._v(" 目录。文件名的名称将成为中间件名称("),t("code",[s._v("middleware/auth.js")]),s._v("将成为 "),t("code",[s._v("auth")]),s._v(" 中间件)。")]),s._v(" "),t("p",[s._v("一个中间件接收 "),t("a",{attrs:{href:"https://zh.nuxtjs.org/api#%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AF%B9%E8%B1%A1",target:"_blank",rel:"noopener noreferrer"}},[s._v("context"),t("OutboundLink")],1),s._v(" 作为第一个参数：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("export default function (context) {\n  context.userAgent = process.server ? context.req.headers['user-agent'] : navigator.userAgent\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("中间件执行流程顺序：")]),s._v(" "),t("ol",[t("li",[t("code",[s._v("nuxt.config.js")])]),s._v(" "),t("li",[s._v("匹配布局")]),s._v(" "),t("li",[s._v("匹配页面")])]),s._v(" "),t("p",[s._v("中间件可以异步执行,只需要返回一个 "),t("code",[s._v("Promise")]),s._v(" 或使用第2个 "),t("code",[s._v("callback")]),s._v(" 作为第一个参数：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("middleware/stats.js\nimport axios from 'axios'\n\nexport default function ({ route }) {\n  return axios.post('http://my-stats-api.com', {\n    url: route.fullPath\n  })\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("然后在你的 "),t("code",[s._v("nuxt.config.js")]),s._v(" 、 layouts 或者 pages 中使用中间件:")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("nuxt.config.js\nmodule.exports = {\n  router: {\n    middleware: 'stats'\n  }\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("现在，"),t("code",[s._v("stats")]),s._v(" 中间件将在每个路由改变时被调用。")]),s._v(" "),t("p",[s._v("您也可以将 middleware 添加到指定的布局或者页面:")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("pages/index.vue` 或者 `layouts/default.vue\nexport default {\n  middleware: 'stats'\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"视图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图"}},[s._v("#")]),s._v(" 视图")]),s._v(" "),t("p",[s._v("页面")]),s._v(" "),t("p",[s._v("页面组件实际上是 Vue 组件，只不过 Nuxt.js 为这些组件添加了一些特殊的配置项（对应 Nuxt.js 提供的功能特性）以便你能快速开发通用应用。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("<template>\n  <h1 class=\"red\">Hello {{ name }}!</h1>\n</template>\n\n<script>\nexport default {\n  asyncData (context) {\n    // called every time before loading the component\n    return { name: 'World' }\n  },\n  fetch () {\n    // The fetch method is used to fill the store before rendering the page\n  },\n  head () {\n    // Set Meta Tags for this Page\n  },\n  // and more functionality to discover\n  ...\n}\n<\/script>\n\n<style>\n.red {\n  color: red;\n}\n</style>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br")])]),t("p",[s._v("Nuxt.js 为页面提供的特殊配置项：")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("属性名")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("asyncData")]),s._v(" "),t("td",[s._v("最重要的一个键, 支持 "),t("a",{attrs:{href:"https://zh.nuxtjs.org/guide/async-data",target:"_blank",rel:"noopener noreferrer"}},[s._v("异步数据处理"),t("OutboundLink")],1),s._v("，另外该方法的第一个参数为当前页面组件的 "),t("a",{attrs:{href:"https://zh.nuxtjs.org/api#%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AF%B9%E8%B1%A1",target:"_blank",rel:"noopener noreferrer"}},[s._v("上下文对象"),t("OutboundLink")],1),s._v("。")])]),s._v(" "),t("tr",[t("td",[s._v("fetch")]),s._v(" "),t("td",[s._v("与 "),t("code",[s._v("asyncData")]),s._v(" 方法类似，用于在渲染页面之前获取数据填充应用的状态树（store）。不同的是 "),t("code",[s._v("fetch")]),s._v(" 方法不会设置组件的数据。详情请参考 "),t("a",{attrs:{href:"https://zh.nuxtjs.org/api/pages-fetch",target:"_blank",rel:"noopener noreferrer"}},[s._v("关于fetch方法的文档"),t("OutboundLink")],1),s._v("。")])]),s._v(" "),t("tr",[t("td",[s._v("head")]),s._v(" "),t("td",[s._v("配置当前页面的 Meta 标签, 详情参考 "),t("a",{attrs:{href:"https://zh.nuxtjs.org/api/pages-head",target:"_blank",rel:"noopener noreferrer"}},[s._v("页面头部配置API"),t("OutboundLink")],1),s._v("。")])]),s._v(" "),t("tr",[t("td",[s._v("layout")]),s._v(" "),t("td",[s._v("指定当前页面使用的布局（"),t("code",[s._v("layouts")]),s._v(" 根目录下的布局文件）。详情请参考 "),t("a",{attrs:{href:"https://zh.nuxtjs.org/api/pages-layout",target:"_blank",rel:"noopener noreferrer"}},[s._v("关于 布局 的文档"),t("OutboundLink")],1),s._v("。")])]),s._v(" "),t("tr",[t("td",[s._v("loading")]),s._v(" "),t("td",[s._v("如果设置为"),t("code",[s._v("false")]),s._v("，则阻止页面自动调用"),t("code",[s._v("this.$nuxt.$loading.finish()")]),s._v("和"),t("code",[s._v("this.$nuxt.$loading.start()")]),s._v(",您可以手动控制它,请看"),t("a",{attrs:{href:"https://nuxtjs.org/examples/custom-page-loading",target:"_blank",rel:"noopener noreferrer"}},[s._v("例子"),t("OutboundLink")],1),s._v(",仅适用于在nuxt.config.js中设置"),t("code",[s._v("loading")]),s._v("的情况下。请参考"),t("a",{attrs:{href:"https://zh.nuxtjs.org/api/configuration-loading",target:"_blank",rel:"noopener noreferrer"}},[s._v("API配置 "),t("code",[s._v("loading")]),s._v(" 文档"),t("OutboundLink")],1),s._v("。")])]),s._v(" "),t("tr",[t("td",[s._v("transition")]),s._v(" "),t("td",[s._v("指定页面切换的过渡动效, 详情请参考 "),t("a",{attrs:{href:"https://zh.nuxtjs.org/api/pages-transition",target:"_blank",rel:"noopener noreferrer"}},[s._v("页面过渡动效"),t("OutboundLink")],1),s._v("。")])]),s._v(" "),t("tr",[t("td",[s._v("scrollToTop")]),s._v(" "),t("td",[s._v("布尔值，默认: "),t("code",[s._v("false")]),s._v("。 用于判定渲染页面前是否需要将当前页面滚动至顶部。这个配置用于 "),t("a",{attrs:{href:"https://zh.nuxtjs.org/guide/routing#%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1",target:"_blank",rel:"noopener noreferrer"}},[s._v("嵌套路由"),t("OutboundLink")],1),s._v("的应用场景。")])]),s._v(" "),t("tr",[t("td",[s._v("validate")]),s._v(" "),t("td",[s._v("校验方法用于校验 "),t("a",{attrs:{href:"https://zh.nuxtjs.org/guide/routing#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1",target:"_blank",rel:"noopener noreferrer"}},[s._v("动态路由"),t("OutboundLink")],1),s._v("的参数。")])]),s._v(" "),t("tr",[t("td",[s._v("middleware")]),s._v(" "),t("td",[s._v("指定页面的中间件，中间件会在页面渲染之前被调用， 请参考 "),t("a",{attrs:{href:"https://zh.nuxtjs.org/guide/routing#%E4%B8%AD%E9%97%B4%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[s._v("路由中间件"),t("OutboundLink")],1),s._v("。")])])])]),s._v(" "),t("p",[s._v("关于页面配置项的详细信息，请参考 "),t("a",{attrs:{href:"https://zh.nuxtjs.org/api",target:"_blank",rel:"noopener noreferrer"}},[s._v("页面 API"),t("OutboundLink")],1),s._v("。")]),s._v(" "),t("h1",{attrs:{id:"异步数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#异步数据"}},[s._v("#")]),s._v(" 异步数据")]),s._v(" "),t("p",[t("em",[s._v("Nuxt.js 扩展了 Vue.js，增加了一个叫")]),s._v(" "),t("code",[s._v("asyncData")]),s._v(" "),t("em",[s._v("的方法，使得我们可以在设置组件的数据之前能异步获取或处理数据。")])]),s._v(" "),t("h3",{attrs:{id:"返回-promise"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#返回-promise"}},[s._v("#")]),s._v(" 返回 Promise")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("export default {\n  asyncData ({ params }) {\n    return axios.get(`https://my-api/posts/${params.id}`)\n      .then((res) => {\n        return { title: res.data.title }\n      }\n  }\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"使用-async或await"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-async或await"}},[s._v("#")]),s._v(" 使用 async或await")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("export default {\n  async asyncData ({ params }) {\n    const { data } = await axios.get(`https://my-api/posts/${params.id}`)\n    return { title: data.title }\n  }\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"使用-回调函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-回调函数"}},[s._v("#")]),s._v(" 使用 回调函数")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("export default {\n  asyncData ({ params }, callback) {\n    axios.get(`https://my-api/posts/${params.id}`)\n      .then((res) => {\n        callback(null, { title: res.data.title })\n      })\n  }\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"上下文对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#上下文对象"}},[s._v("#")]),s._v(" 上下文对象")]),s._v(" "),t("p",[s._v("可通过 "),t("a",{attrs:{href:"https://zh.nuxtjs.org/api/context",target:"_blank",rel:"noopener noreferrer"}},[s._v("API "),t("code",[s._v("context")]),t("OutboundLink")],1),s._v(" 来了解该对象的所有属性和方法。")]),s._v(" "),t("h3",{attrs:{id:"使用-req-res-request-response-对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-req-res-request-response-对象"}},[s._v("#")]),s._v(" 使用 "),t("code",[s._v("req")]),s._v("/"),t("code",[s._v("res")]),s._v("("),t("code",[s._v("request")]),s._v("/"),t("code",[s._v("response")]),s._v(") 对象")]),s._v(" "),t("p",[s._v("在服务器端调用"),t("code",[s._v("asyncData")]),s._v("时，您可以访问用户请求的"),t("code",[s._v("req")]),s._v("和"),t("code",[s._v("res")]),s._v("对象。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("export default {\n  async asyncData ({ req, res }) {\n    // 请检查您是否在服务器端\n    // 使用 req 和 res\n    if (process.server) {\n      return { host: req.headers.host }\n    }\n\n    return {}\n  }\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h3",{attrs:{id:"访问动态路由数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#访问动态路由数据"}},[s._v("#")]),s._v(" 访问动态路由数据")]),s._v(" "),t("p",[s._v("您可以使用"),t("code",[s._v("注入")]),s._v("asyncData属性的"),t("code",[s._v("context")]),s._v("对象来访问动态路由数据。例如，可以使用配置它的文件或文件夹的名称访问动态路径参数。所以，如果你定义一个名为"),t("code",[s._v("_slug.vue")]),s._v("的文件，您可以通过"),t("code",[s._v("context.params.slug")]),s._v("来访问它。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('export default {\n  async asyncData ({ params }) {\n    const slug = params.slug // When calling /abc the slug will be "abc"\n    return { slug }\n  }\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"监听-query-参数改变"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#监听-query-参数改变"}},[s._v("#")]),s._v(" 监听 query 参数改变")]),s._v(" "),t("p",[s._v("默认情况下，query的改变不会调用"),t("code",[s._v("asyncData")]),s._v("方法。如果要监听这个行为，例如，在构建分页组件时，您可以设置应通过页面组件的"),t("code",[s._v("watchQuery")]),s._v("属性监听参数。了解更多有关"),t("a",{attrs:{href:"https://zh.nuxtjs.org/api/pages-watchquery",target:"_blank",rel:"noopener noreferrer"}},[s._v("API watchQuery"),t("OutboundLink")],1),s._v("的信息。")]),s._v(" "),t("h2",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")])])])}),[],!1,null,null,null);a.default=n.exports}}]);