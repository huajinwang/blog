(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{539:function(t,s,a){"use strict";a.r(s);var e=a(6),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("不知道你是否跟我一样，在刚工作那会，总是借助IDEA，sourceTree这些工具进行可视化一键式管理git版本控制，慢慢地连这些工具实际产生的效果是怎样的都忘了，这种一把梭的git流程实际上不利于对git这个工具的理解"),t._v("，若是出现问题，可能工具是解决不了的，现在来重拾一下git吧。")]),t._v(" "),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://code.google.com/p/git-osx-installer/downloads/list?can=3",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载 git OSX 版"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"http://code.google.com/p/msysgit/downloads/list?can=3",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载 git Windows 版"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"git原理理解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git原理理解"}},[t._v("#")]),t._v(" git原理理解")]),t._v(" "),a("h3",{attrs:{id:"git仓库-版本库-、工作区、暂存区、head"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git仓库-版本库-、工作区、暂存区、head"}},[t._v("#")]),t._v(" git仓库（版本库）、工作区、暂存区、HEAD")]),t._v(" "),a("ol",[a("li",[t._v("git仓库（版本库）：git仓库就是一个.git文件夹。这个文件夹内包含了很多文件，其中有一个很重要的文件夹objects，保存了暂存区的所有文件对象，包括blob对象、tree对象、commit对象等，这些对象都是一以文件的形式来保存的。还有HEAD文件，保存着最新的提交的指针。当然很多人到这里可能还是不理解objects中的文件对象和HEAD中保存的指针到底是什么意思，没关系，下面会详细讲解。")]),t._v(" "),a("li",[t._v("工作区：在一个项目目录中，除了.git文件的其他所有文件的集合就是工作区。")]),t._v(" "),a("li",[t._v("暂存区：暂存区可以理解为文件从修改到最后提交到git版本库之间的一个缓存，为了防止一次提交了不必要的文件，有回退的余地，便有了暂存区。")]),t._v(" "),a("li",[t._v("HEAD：HEAD在.git文件夹中是一个文件，文件的内容是一个32位的16进制数，这只是一个指针，他指向最近一个提交点、这个提交点实质是一个commit对象，对象里包含里多个属性，包括最后一个提交点目录结构索引、上一次提交点id、提交人、提交时间等。")])]),t._v(" "),a("h2",{attrs:{id:"开发中常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发中常用命令"}},[t._v("#")]),t._v(" 开发中常用命令")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git clone git@github.com:nohosts/nohost.git #克隆远程仓库的内容到本地\ngit pull origin master #获取远程分支master并merge到当前分支\ngit branch -a #查看全部分支（远程+本地）\ngit checkout -b bugFix #新建bugFix，并切换到到此分支。（如果分支已存在则去掉-b即可）\ngit status #查看当前~~~~版本状态（是否修改）\ngit add . #增加当前子目录~~~~下所有文件更改至暂存区\ngit commit -m 'xxx' #提交暂存区的修改至本地的版本库, 修改备注为xxx\ngit push #将本地版本推送到远程分支\ngit tag v1.0 dfb02e6e4f2f7b573337763e5c0013802e392818 #增加v1.0的tag到某个提交上\ngit merge testBranch #合并testBranch分支至当前分支`\ngit stash #暂存本地的当前修改，将本地代码重置为HEAD状态。（如果需要取出修改，命令后加一个pop即可）\ngit log #显示提交日志（如果想每个提交信息显示在一行，可以加上--pretty=oneline）\ngit show dfb02e6e4f2f7b573337763e5c0013802e392818 #显示某个提交的详细内容\ngit reset --hard HEAD #将当前版本重置为HEAD\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])]),a("h2",{attrs:{id:"需要知道的命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#需要知道的命令"}},[t._v("#")]),t._v(" 需要知道的命令")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git version  #git版本\ngit branch\t#查看本地所有分支\ngit branch -r\t#查看所有远程分支\ngit branch -a #查看所有本地和远程分支\ngit branch -d <branchname>\t#删除本地branchname分支\ngit branch <branchname>\t#创建brandname分支\ngit checkout <branchname> #切换到branchname分支\ngit checkout -b <branchname> #等同于以上两步\n\ngit status\t#查看本地工作区，暂存区文件的修改状态\ngit add xx \t#把文件添加到暂存区\ngit commit -m ''\t#提交文件 -m 后面的是注释 不建议使用\ngit commit -am(-a -m)\t#提交所有修改，等同以上两步 不建议使用\ngit commit ./xx #\t等同于git add ./xx + git commit 建议使用\n\t在 vi 下 commit 时，会展示当前分支及本次提交所修改文件等信息，如果发现提交有误，可以及时撤销本次提交（当\t然提交之后也可以撤销，只是稍麻烦一些），相对粗暴式-m提交要更友好更安全一些~\ngit commit --amend #将暂存区和当前commit合并，并创建一个新的commit去替换当前commit\n\ngit stash\t#把当前的工作隐藏气来来来， 等以后恢复现场后继续工作\ngit stash pop\t#恢复工作现场（恢复隐藏的文件，同时删除stash列表中对应的内容）\n\ngit fetch --all #把远程主机的更新全部拉取到本地\ngit merge origin/master\t#在本地master分支上合并远程分支\ngit merge --no--ff origin/devlop #在本地develop分支上合并远程分支\ngit merge --abort #终止本次merge,并回到merge前的状态\n\ngit pull origin master #从远程拉取最新版本并merge到本地\ngit push origin master #将本地master分支推送到远程origin主机的master分支\n\ngit log 查看文件commit记录\ngit log xx #查看xx文件的commit记录\ngit log -p xx #查看xx文件每次提交的diff\ngit log --pretty=oneline xx #查看xx文件提交的历史记录（只显示哈希值和提交说明）\ngit log --pretty=raw #查看commit之间的父子关系（root commit是没有父提交的）\ngit log --graph #查看当前分支commit生成的树状图\ngit log --graph --pretty=oneline --abbrev-commit # 组合查看日志\ngit diff HEAD HEAD^1 -- xx #查看xx文件不同版本之间的差异\ngit diff HEAD~1 #显示父节点的提交\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br")])]),a("p",[t._v('至此，只是git的基本操作，若是在多人协作中你需要了解更多git"高级"用法')]),t._v(" "),a("h2",{attrs:{id:"高级-操作命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#高级-操作命令"}},[t._v("#")]),t._v(" “高级”操作命令")]),t._v(" "),a("h3",{attrs:{id:"rebase变基"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rebase变基"}},[t._v("#")]),t._v(" rebase变基")]),t._v(" "),a("blockquote",[a("p",[t._v("在 Git 中整合来自不同分支的修改主要有两种方法："),a("code",[t._v("merge")]),t._v(" 以及 "),a("code",[t._v("rebase")]),t._v("。 在本节中我们将学习什么是“变基”，怎样使用“变基”，并将展示该操作的惊艳之处，以及指出在何种情况下你应避免使用它。——"),a("a",{attrs:{href:"https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA",target:"_blank",rel:"noopener noreferrer"}},[t._v("git-scm变基"),a("OutboundLink")],1)])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("rebase")]),t._v(" 实际上就是取出一系列的提交记录，“复制”它们，然后在另外一个地方逐个的放下去。它的优势就是可以创造更线性的提交历史。")])]),t._v(" "),a("p",[t._v("此处"),a("a",{attrs:{href:"https://juejin.im/post/5e84797ce51d4546ff6fe3ac#heading-2",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"cherry-pick摘取想commit的分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cherry-pick摘取想commit的分支"}},[t._v("#")]),t._v(" cherry-pick摘取想commit的分支")]),t._v(" "),a("p",[t._v("cherry-pick是Git里对commit操作很好的一个指令，比如想把test分支中的其中多个commit merge到master，那么你需要挑你所需要的commit合到master，这时候就用cherry-pick来捡。")]),t._v(" "),a("div",{staticClass:"language-ruby line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("            \n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C3")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C1")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C2")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  test\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n    master\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[t._v("想将test分支中的C2 commit合并到master分支，丢弃C3的修改。\n直接merge会把C3也合并进去，这时用git cherry-pick可以解决问题")]),t._v(" "),a("ul",[a("li",[t._v("先用git log查看，C2 commit的id，复制下来")]),t._v(" "),a("li",[t._v("git checkout 到master分支下")]),t._v(" "),a("li",[t._v("git cherry-pick  <C2_id>")])]),t._v(" "),a("p",[t._v("如果cherry-pick过程没有出现冲突的话，那就是完成了合并，如下图所示")]),t._v(" "),a("div",{staticClass:"language-ruby line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C4")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  \\         \n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    \\   "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C3")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("      \\ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C1")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C2")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  test\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n   master\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("p",[t._v("如果出现冲突，")]),t._v(" "),a("ul",[a("li",[t._v("先解决冲突")]),t._v(" "),a("li",[t._v("git add 将解决了冲突的文件添加到暂存区")]),t._v(" "),a("li",[t._v("git cherry-pick --continue就行")])]),t._v(" "),a("h2",{attrs:{id:"参考链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[t._v("#")]),t._v(" 参考链接")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.jianshu.com/p/ad2d7be536ff",target:"_blank",rel:"noopener noreferrer"}},[t._v("git原理理解"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.im/post/5e84797ce51d4546ff6fe3ac",target:"_blank",rel:"noopener noreferrer"}},[t._v("十分钟了解git那些“不常用”命令"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://blog.csdn.net/w57685321/article/details/86597808",target:"_blank",rel:"noopener noreferrer"}},[t._v("rebase i 合并commit"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.jianshu.com/p/6e3c189c4995",target:"_blank",rel:"noopener noreferrer"}},[t._v("cherry-pick 摘取commit"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=n.exports}}]);